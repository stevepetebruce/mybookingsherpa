{
  "name": "BookYourPlace",
  "description": "A Trip Management and Booking Site for Independant Trip Guides",
  "website": "http://bookyour.place",
  "repository": "https://github.com/Book-Your-Place/bookyourplace",
  "scripts": {
    "postdeploy": "bundle exec rake db:migrate"
  },
  "addons": [
    "heroku-redis",
    "heroku-postgresql"
  ],
  "buildpacks": [
    { "url": "heroku/nodejs" },
    { "url": "heroku/ruby" }
  ],
  "env": {
    "AWS_ACCESS_KEY_ID": {
      "description": "ID for IAM user / AWS/S3 access",
      "required": true
    },
    "AWS_SECRET_ACCESS_KEY": {
      "description": "Secret access key for IAM user / AWS/S3 access",
      "required": true
    },
    "AWS_BUCKET": {
      "description": "S3 bucket for saving user images",
      "required": true
    },
    "BASE_DOMAIN": {
      "description": "URL of the app",
      "required": true
    },
    "SMTP_ADDRESS": {
      "description": "SMTP server, eg: smtp.postmarkapp.com",
      "required": false
    },
    "SMTP_PASSWORD": {
      "description": "Password for email/SMTP provider",
      "required": false
    },
    "SMTP_USER_NAME": {
      "description": "User name for email/SMTP provider",
      "required": false
    },
    "STRIPE_SECRET_KEY": {
      "description": "Secret key for Stripe API - used on the server",
      "required": false
    },
    "STRIPE_PUBLISHABLE_KEY": {
      "description": "Secret key for Stripe API - used in the front end (Stripe.js)",
      "required": false
    },
    "SUPPORT_EMAIL_ADDRESS": {
      "description": "Email address that all system emails will be sent from",
      "required": false,
      "value": "support@mybookingsherpa.com"
    },
    "SUPPORT_EMAIL_NAME": {
      "description": "Name used when sending system emails",
      "required": false
    }
  },
  "addons": ["heroku-postgresql:in-dyno", "heroku-redis:in-dyno"],
  "environments": {
    "test": {
      "addons": ["heroku-postgresql:in-dyno"],
      "buildpacks": [
        { "url": "heroku/nodejs" },
        { "url": "heroku/ruby" }
      ],
      "scripts": {
        "test": "rspec"
      },
      "env": {
        "SMTP_ADDRESS": "SMTP-ADDRESS-OR-SERVER",
        "BASE_DOMAIN": "https://example.com",
        "SMTP_PASSWORD": "SMTP-PASSWORD",
        "SMTP_USER_NAME": "SMTP-USER-NAME",
        "STRIPE_SECRET_KEY": "STRIPE-SECRET-KEY",
        "STRIPE_PUBLISHABLE_KEY": "STRIPE-PUBLISHABLE-KEY"
      }
    }
  }
}