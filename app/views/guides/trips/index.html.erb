<div class="container-fluid page-body-wrapper content">
<!-- main -->
<div class="main-panel">
  <div class="content-wrapper">

    <div class="row">
      <div class="col-12">
        <div class="card card-shadow">
          <div class="card-body">
            <h1 class="card-title font-weight-bold mb-4">Your Upcoming Trips
              <!-- <button type="button" class="btn btn-inverse-primary btn-md float-right mt-2 d-sm-none d-md-block d-none d-sm-block">Add a Trip</button> -->
            </h1>
            <div class="row">
              <div class="col col-6"></div>
              <div class="col text-center d-sm-none d-md-block d-none d-sm-block">

              </div>
              <div class="col text-center d-sm-none d-md-block d-none d-sm-block">
                <h4 class="ml-1">Places Filled</h4>
              </div>
              <div class="col col-lg-1"></div>
            </div>
            <div class="accordion" id="accordion">
              <% @trips.each do |trip| %>
              <div class="card">
                <div class="card-header pointer collapsed" id="headingOne" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false"
                  aria-controls="collapseOne">
                  <div class="row">
                    <div class="col col-6 h4 font-weight-bold">
                      <%= trip.name %>
                    </div>
                    <div class="col text-gray h4 d-sm-none d-md-block d-none d-sm-block font-weight-normal">
                      <%= "#{trip.start_date.day} - #{trip.end_date.day} #{Date::MONTHNAMES[trip.end_date.month]}" %>
                    </div>
                    <div class="col d-sm-none d-md-block d-none d-sm-block">
                      <div>
                        <% (0..trip.maximum_number_of_guests - 1).each do |i| %>
                          <% if trip.guests[i] %>
                            <!-- TODO: remove the status conditional below - just for illustrative purposes -->
                            <span class="dot dot-sm <%= i.even? ? 'dot-warning' : 'dot-success' %>" data-toggle="tooltip" data-placement="top" title="<%= trip.guests[i].name %>"></span>
                          <% else %>
                            <span class='dot dot-sm dot-grey'></span>
                          <% end %>
                        <% end %>
                      </div>
                    </div>
                    <div class="col col-lg-1 text-right">
                      <i class="fa fa-chevron-circle-down md-20"></i>
                    </div>
                  </div>
                </div>

                <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                  <div class="card-body">

                    <div class="fluid-container">
                      <div class="row">
                        <div class="input-group pb-2 col-md-6 col-sm-10 col-8">
                          <input class="form-control" type="text" data-clipboard-source="<%= trip.id %>" value="<%= trip.new_public_booking_link %>" readonly>
                          <div class="input-group-append">
                            <button type="button" class="btn btn-outline-secondary" data-clipboard-btn="<%= trip.id %>">Copy to Clipboard</button>
                          </div>
                        </div>
                        <span class="copied mt-1"> Copied!</span>
                      </div>
                      <!-- Loop throuh individual in trip -->
                      <% trip.guests.map { |g| GuestDecorator.new(g) }.each do |guest| %>
                      <div class="row ticket-card mt-3 pb-2 border-bottom">
                        <div class="col-1 d-sm-none d-md-block d-none">
                          <!-- <img class="avatar avatar-sm" src="<%= asset_pack_path 'images/faces/face5.jpg' %>" alt="profile image"> -->
                          <%= image_tag guest.gravatar_url, class: "avatar avatar-sm", alt: "guest profile image" %>
                          <span class="flag-icon flag-icon-circled flag-icon-profile <%= guest.flag_icon %>"></span>
                        </div>
                        <div class="col-9">
                          <div class="d-flex">
                            <p class="text-primary mr-2 mb-0 no-wrap h3 font-weight-light">
                              <!-- TODO: need to get name (first and last) from booking and update -->
                              <%= guest.name %>
                              <!-- TODO: if this guest's/ bookings details are incomplete - need to flag it here - missing name, phone number, etc-->
                            </p>
                          </div>
                        </div>
                        <div class="ticket-actions col-1">
                          <button type="button" class="btn btn-primary">
                            <%= link_to "View Details", guides_guest_path(guest) %>
                          </button>
                        </div>
                      </div>
                      <% end %>
                      <!-- END Loop throuh individual in trip -->
                    </div>

                  </div>
                </div>
              </div>
              <% end %>



              <!-- Fake trips -->
              <!-- Loop through Trips -->
              <!-- END Loop through Trips -->
              <div class="card">
                <div class="card-header pointer collapsed" id="headingTwo" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false"
                  aria-controls="collapseTwo">
                  <div class="row">
                    <div class="col col-6 h4 font-weight-bold">
                      3 Peak Mountain Bike Challenge
                    </div>
                    <div class="col text-gray h4 d-sm-none d-md-block d-none d-sm-block font-weight-normal">
                      22 - 27 June
                    </div>
                    <div class="col d-sm-none d-md-block d-none d-sm-block">
                      <div>
                        <span class='dot dot-sm dot-success' data-toggle="tooltip" data-placement="top" title="James Rogers"></span>
                        <span class='dot dot-sm dot-success' data-toggle="tooltip" data-placement="top" data-original-title="Sarah-Ann King"></span>
                        <span class='dot dot-sm dot-success' data-toggle="tooltip" data-placement="top" data-original-title="Jenny Smith"></span>
                        <span class='dot dot-sm dot-success' data-toggle="tooltip" data-placement="top" data-original-title="Fabio Toti"></span>
                        <span class='dot dot-sm dot-success' data-toggle="tooltip" data-placement="top" title="Marques Brownlee"></span>
                        <span class='dot dot-sm dot-success' data-toggle="tooltip" data-placement="top" title="Jenny Naismith"></span>
                        <span class='dot dot-sm dot-grey'></span>
                        <span class='dot dot-sm dot-grey'></span>
                        <span class='dot dot-sm dot-grey'></span>
                        <span class='dot dot-sm dot-grey'></span>
                      </div>
                    </div>
                    <div class="col col-lg-1 text-right">
                      <i class="fa fa-chevron-circle-down md-20"></i>
                    </div>
                  </div>
                </div>

                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
                  <div class="card-body">
                    <div class="fluid-container">
                      <!-- Dummy input clipboard to test different data sources -->
                      <div class="row">
                        <div class="input-group pb-2 col-md-6 col-sm-10 col-8">
                          <input class="form-control" type="text" data-clipboard-source="123" value="54321" readonly>
                          <div class="input-group-append">
                            <button type="button" class="btn btn-outline-secondary" data-clipboard-btn="123">Copy to Clipboard</button>
                          </div>
                        </div>
                        <span class="copied mt-1"> Copied!</span>
                      </div>
                      <div class="row ticket-card mt-3 pb-2 border-bottom">
                        <div class="col-1 d-sm-none d-md-block d-none">
                          <img class="avatar avatar-sm" src="<%= asset_pack_path 'images/faces/face1.jpg' %>" alt="profile image">
                          <span class="flag-icon flag-icon-gb flag-icon-circled flag-icon-profile"></span>
                        </div>
                        <div class="col-9">
                          <div class="d-flex">
                            <p class="text-primary mr-2 mb-0 no-wrap h3 font-weight-light">
                              James Rogers
                            </p>
                          </div>
                        </div>
                        <div class="ticket-actions col-1">
                          <button type="button" class="btn btn-inverse-primary">
                            View Details
                          </button>
                        </div>
                      </div>

                      <div class="row ticket-card mt-3 pb-2 border-bottom">
                        <div class="col-1 d-sm-none d-md-block d-none">
                          <img class="avatar avatar-sm" src="<%= asset_pack_path 'images/faces/face6.jpg' %>" alt="profile image">
                          <span class="flag-icon flag-icon-fr flag-icon-circled flag-icon-profile"></span>
                        </div>
                        <div class="col-9">
                          <div class="d-flex">
                            <p class="text-primary mr-2 mb-0 no-wrap h3 font-weight-light">
                              Sarah-Ann King
                            </p>
                          </div>
                        </div>
                        <div class="ticket-actions col-1">
                          <button type="button" class="btn btn-inverse-primary">
                            View Details
                          </button>
                        </div>
                      </div>

                      <div class="row ticket-card mt-3 pb-2 border-bottom">
                        <div class="col-1 d-sm-none d-md-block d-none">
                          <img class="avatar avatar-sm" src="<%= asset_pack_path 'images/faces/face2.jpg' %>" alt="profile image">
                          <span class="flag-icon flag-icon-gb flag-icon-circled flag-icon-profile"></span>
                        </div>
                        <div class="col-9">
                          <div class="d-flex">
                            <p class="text-primary mr-2 mb-0 no-wrap h3 font-weight-light">
                              Jenny Smith
                            </p>
                          </div>
                        </div>
                        <div class="ticket-actions col-1">
                          <button type="button" class="btn btn-inverse-primary">
                            View Details
                          </button>
                        </div>
                      </div>

                      <div class="row ticket-card mt-3 pb-2 border-bottom">
                        <div class="col-1 d-sm-none d-md-block d-none">
                          <img class="avatar avatar-sm" src="<%= asset_pack_path 'images/faces/face3.jpg' %>" alt="profile image">
                          <span class="flag-icon flag-icon-it flag-icon-circled flag-icon-profile"></span>
                        </div>
                        <div class="col-9">
                          <div class="d-flex">
                            <p class="text-primary mr-2 mb-0 no-wrap h3 font-weight-light">
                              Fabio Toti
                            </p>
                          </div>
                        </div>
                        <div class="ticket-actions col-1">
                          <button type="button" class="btn btn-inverse-primary">
                            View Details
                          </button>
                        </div>
                      </div>

                      <div class="row ticket-card mt-3 pb-2 border-bottom">
                        <div class="col-1 d-sm-none d-md-block d-none">
                          <img class="avatar avatar-sm" src="<%= asset_pack_path 'images/faces/face4.jpg' %>" alt="profile image">
                          <span class="flag-icon flag-icon-de flag-icon-circled flag-icon-profile"></span>
                        </div>
                        <div class="col-9">
                          <div class="d-flex">
                            <p class="text-primary mr-2 mb-0 no-wrap h3 font-weight-light">
                              Marques Brownlee
                            </p>
                          </div>
                        </div>
                        <div class="ticket-actions col-1">
                          <button type="button" class="btn btn-inverse-primary">
                            View Details
                          </button>
                        </div>
                      </div>

                      <div class="row ticket-card mt-3 pb-2 border-bottom">
                        <div class="col-1 d-sm-none d-md-block d-none">
                          <!-- <img class="avatar avatar-sm" src="<%= asset_pack_path 'images/faces/face5.jpg' %>" alt="profile image"> -->
                          <span class="flag-icon flag-icon-gb flag-icon-circled flag-icon-profile"></span>
                        </div>
                        <div class="col-9">
                          <div class="d-flex">
                            <p class="text-primary mr-2 mb-0 no-wrap h3 font-weight-light">
                              Jenny Naismith
                            </p>
                          </div>
                        </div>
                        <div class="ticket-actions col-1">
                          <button type="button" class="btn btn-inverse-primary">
                            View Details
                          </button>
                        </div>
                      </div>

                    </div>

                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-header pointer collapsed" id="headingThree" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false"
                  aria-controls="collapseThree">
                  <div class="row">
                    <div class="col col-6 h4 font-weight-bold">
                      Mont Blanc Summer Trek
                    </div>
                    <div class="col text-gray h4 d-sm-none d-md-block d-none d-sm-block font-weight-normal">
                      9 - 12 July
                    </div>
                    <div class="col d-sm-none d-md-block d-none d-sm-block">
                      <div>
                        <span class='dot dot-sm dot-success' data-toggle="tooltip" data-placement="top" title="Lindsey Parker"></span>
                        <span class='dot dot-sm dot-success' data-toggle="tooltip" data-placement="top" data-original-title="Marques Brownlee"></span>
                        <span class='dot dot-sm dot-success' data-toggle="tooltip" data-placement="top" title="Jenny Smith"></span>
                        <span class='dot dot-sm dot-grey'></span>
                        <span class='dot dot-sm dot-grey'></span>
                        <span class='dot dot-sm dot-grey'></span>
                        <span class='dot dot-sm dot-grey'></span>
                        <span class='dot dot-sm dot-grey'></span>
                      </div>
                    </div>
                    <div class="col col-lg-1 text-right">
                      <i class="fa fa-chevron-circle-down md-20"></i>
                    </div>
                  </div>
                </div>

                <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
                  <div class="card-body">

                    <div class="fluid-container">

                      <div class="row ticket-card mt-3 pb-2 border-bottom">
                        <div class="col-1 d-sm-none d-md-block d-none">
                          <!-- <img class="avatar avatar-sm" src="<%= asset_pack_path 'images/faces/face5.jpg' %>" alt="profile image"> -->
                          <span class="flag-icon flag-icon-gr flag-icon-circled flag-icon-profile"></span>
                        </div>
                        <div class="col-9">
                          <div class="d-flex">
                            <p class="text-primary mr-2 mb-0 no-wrap h3 font-weight-light">
                              Alan Naismith
                            </p>
                          </div>
                        </div>
                        <div class="ticket-actions col-1">
                          <button type="button" class="btn btn-inverse-primary">
                            View Details
                          </button>
                        </div>
                      </div>

                      <div class="row ticket-card mt-3 pb-2 border-bottom">
                        <div class="col-1 d-sm-none d-md-block d-none">
                          <img class="avatar avatar-sm" src="<%= asset_pack_path 'images/faces/face4.jpg' %>" alt="profile image">
                          <span class="flag-icon flag-icon-fr flag-icon-circled flag-icon-profile"></span>
                        </div>
                        <div class="col-9">
                          <div class="d-flex">
                            <p class="text-primary mr-2 mb-0 no-wrap h3 font-weight-light">
                              Marques Brownlee
                            </p>
                          </div>
                        </div>
                        <div class="ticket-actions col-1">
                          <button type="button" class="btn btn-inverse-primary">
                            View Details
                          </button>
                        </div>
                      </div>

                      <div class="row ticket-card mt-3 pb-2 border-bottom">
                        <div class="col-1 d-sm-none d-md-block d-none">
                          <img class="avatar avatar-sm" src="<%= asset_pack_path 'images/faces/face2.jpg' %>" alt="profile image">
                          <span class="flag-icon flag-icon-gb flag-icon-circled flag-icon-profile"></span>
                        </div>
                        <div class="col-9">
                          <div class="d-flex">
                            <p class="text-primary mr-2 mb-0 no-wrap h3 font-weight-light">
                              Jenny Smith
                            </p>
                          </div>
                        </div>
                        <div class="ticket-actions col-1">
                          <button type="button" class="btn btn-inverse-primary">
                            View Details
                          </button>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>

  </div>
</div>
